{"version":3,"sources":["main.js"],"names":["Perf","require","timeline","A","B","schoolBack","solution","i","length","j","getRandomDouble","n","randomDoubles","max","min","push","Math","random","divideIntoHalf","half","ceil","UpperHalf","slice","lowerHalf","sumArray","sum","substractArray","C","difference","CAD4","A0","A1","B0","B1","p0","p1","p2","p3","p4","CAD3","data1","data2","start","now","result1","end","console","log","start2","result2","end2","result3"],"mappings":"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","sourcesContent":["const Perf = require(\"performance-node\");\r\nconst timeline = new Perf();\r\n\r\nlet A = [1, 2, 3, 4];\r\nlet B = [1, 2, 3, 4];\r\n\r\nfunction schoolBack(A, B) {\r\n  let solution = [];\r\n\r\n  for (let i = 0; i < A.length + B.length - 1; i++) {\r\n    solution[i] = 0;\r\n  }\r\n\r\n  // ierate through all the element of arrays and add the multiplied value to solution\r\n  for (let i = 0; i < A.length; i++) {\r\n    for (j = 0; j < B.length; j++) {\r\n      solution[i + j] += A[i] * B[j];\r\n    }\r\n  }\r\n  return solution;\r\n}\r\n\r\n// generate random number from -1 to 1\r\nfunction getRandomDouble(n) {\r\n  let randomDoubles = [];\r\n  let max = 1;\r\n  let min = -1;\r\n  for (let i = 0; i < n; i++) {\r\n    randomDoubles.push(Math.random() * (max - min + 1) + min);\r\n  }\r\n  return randomDoubles;\r\n}\r\n\r\n//divide array into two halves\r\nfunction divideIntoHalf(A) {\r\n  let half = Math.ceil(A.length / 2);\r\n  let UpperHalf = A.slice(0, half);\r\n  let lowerHalf = A.slice(-half);\r\n  return [UpperHalf, lowerHalf];\r\n}\r\n\r\n// returned the sum of two array\r\nfunction sumArray(A, B) {\r\n  let sum = [];\r\n  for (let i = 0; i < A.length; i++) {\r\n    sum[i] = A[i] + B[i];\r\n  }\r\n  return sum;\r\n}\r\n\r\n// return the substracted result of B and C substracted from A\r\nfunction substractArray(A, B, C) {\r\n  let difference = [];\r\n  for (let i = 0; i < A.length; i++) {\r\n    difference[i] = A[i] - B[i] - C[i];\r\n  }\r\n  return difference;\r\n}\r\n\r\n// four subproblem Divide and Conquer strategy\r\nfunction CAD4(A, B) {\r\n  let A0, A1, B0, B1;\r\n  let p0 = [];\r\n  let p1 = [];\r\n  let p2 = [];\r\n  let p3 = [];\r\n  let p4 = [];\r\n  let solution = [];\r\n\r\n  for (let i = 0; i < A.length + B.length - 1; i++) {\r\n    solution[i] = 0;\r\n  }\r\n\r\n  if (A.length == 1) {\r\n    return [A[0] * B[0], 0];\r\n  }\r\n\r\n  [A0, A1] = divideIntoHalf(A);\r\n  [B0, B1] = divideIntoHalf(B);\r\n\r\n  p0 = CAD4(A0, B0);\r\n  p1 = CAD4(A0, B1);\r\n  p2 = CAD4(A1, B0);\r\n  p3 = CAD4(A1, B1);\r\n\r\n  //   add two array p1 and p2\r\n  for (let i = 0; i < p1.length; i++) {\r\n    p4.push(p1[i] + p2[i]);\r\n  }\r\n\r\n  for (let i = 0, n = A.length; i < n; i++) {\r\n    solution[i] += p0[i];\r\n    solution[i + n / 2] += p1[i];\r\n    solution[i + n / 2] += p2[i];\r\n    solution[i + n] = p3[i];\r\n  }\r\n  return solution;\r\n}\r\n\r\n// three subproblem Divide and Conquer strategy\r\nfunction CAD3(A, B) {\r\n  let A0, A1, B0, B1;\r\n  let p0 = [];\r\n  let p1 = [];\r\n  let p2 = [];\r\n  let p3 = [];\r\n  let p4 = [];\r\n  let solution = [];\r\n\r\n  for (let i = 0; i < A.length + B.length - 1; i++) {\r\n    solution[i] = 0;\r\n  }\r\n\r\n  if (A.length == 1) {\r\n    return [A[0] * B[0], 0];\r\n  }\r\n\r\n  [A0, A1] = divideIntoHalf(A);\r\n  [B0, B1] = divideIntoHalf(B);\r\n\r\n  //here isntead of four recursion we only have to do three recursion\r\n  p0 = CAD3(A0, B0);\r\n  p3 = CAD3(A1, B1);\r\n\r\n  p1 = CAD3(sumArray(A0, A1), sumArray(B0, B1));\r\n\r\n  p4 = substractArray(p1, p0, p3);\r\n\r\n  for (let i = 0, n = A.length; i < n; i++) {\r\n    solution[i] += p0[i];\r\n    solution[i + n / 2] += p4[i];\r\n    solution[i + n] = p3[i];\r\n  }\r\n  return solution;\r\n}\r\n\r\nfor (i = 32; i < 1048576 * 32; i = 2 * i) {\r\n  let data1 = getRandomDouble(i);\r\n  let data2 = getRandomDouble(i);\r\n\r\n  var start = timeline.now();\r\n  let result1 = schoolBack(data1, data2);\r\n  var end = timeline.now();\r\n  console.log(\"school time for \" + i + \" elements \" + (end - start));\r\n\r\n  var start2 = timeline.now();\r\n  let result2 = CAD4(data1, data2);\r\n  var end2 = timeline.now();\r\n  console.log(\"DAC 4 subprob time for \" + i + \" elements \" + (end2 - start2));\r\n\r\n  var start2 = timeline.now();\r\n  let result3 = CAD3(data1, data2);\r\n  var end2 = timeline.now();\r\n  console.log(\"DAC 3 subprob time for  \" + i + \" elements \" + (end2 - start2));\r\n}\r\n"],"file":"main.dev.js"}